# ScholarWeave Environment Configuration

## Backend (.env or system environment)

Create a `.env` file in the project root (optional, server will use defaults):

```
# Server
PORT=3000
ENVIRONMENT=development

# External APIs
OPENALEX_BASEURL=https://api.openalex.org

# Logging
LOG_LEVEL=info
```

## Frontend (.env.local)

Create a `.env.local` file in the `frontend/` directory (optional):

```
# API endpoint for the frontend to reach the backend
VITE_API_BASE_URL=http://localhost:3000/api/v1
```

## Environment-Specific Overrides

### Development
```
# .env
ENVIRONMENT=development
OPENALEX_BASEURL=https://api.openalex.org
PORT=3000

# frontend/.env.development.local
VITE_API_BASE_URL=http://localhost:3000/api/v1
```

### Production
```
# Backend: Set via system environment or .env
ENVIRONMENT=production
OPENALEX_BASEURL=https://api.openalex.org
PORT=3000

# Frontend: Set via build-time env or .env.production.local
VITE_API_BASE_URL=https://api.scholarweave.com/api/v1
```

## Windows PowerShell: Setting Environment Variables

Temporarily (for current session):
```powershell
$env:PORT = 3001
$env:ENVIRONMENT = "production"
go run main.go
```

Permanently (system-wide):
```powershell
[Environment]::SetEnvironmentVariable("PORT", "3001", "User")
```

Then restart PowerShell or restart the computer for it to take effect.

## Vite Frontend Build-Time Environment Variables

When building the frontend, prefix variables with `VITE_` to expose them:

```bash
# Development
npm run dev

# Production build (uses environment at build time)
VITE_API_BASE_URL=https://api.production.com npm run build
```

Note: Frontend env vars must start with `VITE_` to be exposed to client code.
